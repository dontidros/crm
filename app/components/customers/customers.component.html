<app-page-header [headerTitle]="headerTitle" [headerIcon]="headerIcon"></app-page-header>
<div class="row">
  <div class="col-3">
    <label for="searchFirstName" class="sr-only">First Name</label>
    <div class="input-group mb-2">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-search"></i>
        </div>
      </div>
      <input (keyup)="onSearch('firstName')" [(ngModel)]="firstName" type="text" name="searchFirstName"
        id="searchFirstName" class="form-control" placeholder="First Name">
    </div>
  </div>
  <div class="col-3">
    <label for="searchLastName" class="sr-only">Last Name</label>
    <div class="input-group mb-2">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-search"></i>
        </div>
      </div>
      <input (keyup)="onSearch('lastName')" [(ngModel)]="lastName" type="text" name="searchLastName" id="searchLastName"
        class="form-control" placeholder="Last Name">
    </div>
  </div>
  <div class="col-3">
    <label for="searchPhone" class="sr-only">Phone</label>
    <div class="input-group mb-2">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-search"></i>
        </div>
      </div>
      <input (keyup)="onSearch('phone')" [(ngModel)]="phone" type="text" name="searchPhone" id="searchPhone"
        class="form-control" placeholder="Phone">
    </div>
  </div>
  <div class="col-3">
    <a href="" routerLink="/customer/new" class="btn btn-primary">
      <i class="fa fa-plus-circle"></i>Add Customer
    </a>
  </div>
</div>

<div class="row mt-3">
  <div class="col">
    <table *ngIf="customers; else nocustomers" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>No.</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Phone</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr (mouseenter)="showOnHover($event)" (mouseleave)="hideOnLeave($event)"
          *ngFor="let customer of customers; let i = index">
          <td>{{ i+1 }}
            <span class="ml-3 invisible">
              <a class="text-secondary" routerLink="/customer/{{ customer.id }}"><i class="fa fa-eye"></i></a>
              <a class="text-secondary ml-3" routerLink="/customer/{{ customer.id }}/edit"><i
                  class="fa fa-pencil"></i></a>
              <a class="text-secondary ml-3" href="" (click)="onDeleteCustomer(customer.id, $event)"><i
                  class="fa fa-trash"></i></a>
            </span>
          </td>
          <td>{{ customer.firstName }}</td>
          <td>{{ customer.lastName }}</td>
          <td>{{ customer.phone }}</td>
          <td>{{ customer.email }}</td>
        </tr>
      </tbody>
    </table>
    <ng-template #nocustomers>
      <p>No Customers Available</p>
    </ng-template>
  </div>
</div>
